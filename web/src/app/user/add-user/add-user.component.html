<h1>Add User</h1>


<div class="container">
  <button type="button" class="btn btn-secondary" (click)="goBack()" style="margin-bottom: 2em">Go Back</button>

  <div class="card">
    <div class="card-body">
        <form [formGroup]="registerForm" (ngSubmit)="add_user()">
          <div class="form-group">
            <label>Username: </label>
            <input type="text" formControlName="username" class="form-control" placeholder="Enter your username">
            
            <div *ngIf="getError('username').invalid && (getError('username').dirty || getError('username').touched)" class="alert alert-danger">
              <div *ngIf="getError('username').errors.required"> Username is required.</div>
              <div *ngIf="getError('username').errors.minlength"> Username must be at least 6 characters long.</div>
            </div>
          </div>

          <div class="form-group">
            <label>Password: </label>
            <input type="password" formControlName="password" class="form-control" placeholder="Enter your password">
            <div *ngIf="getError('password').invalid && (getError('password').dirty || getError('password').touched)" class="alert alert-danger">

              <div *ngIf="getError('password').errors.required">
                Password is required.
              </div>
              <div *ngIf="getError('password').errors.minlength">
                Password must be at least {{getError('password').errors.minlength.requiredLength}} characters long.
              </div>

            </div>
          </div>

          <div class="form-group">
            <label>Confirm Password: </label>
            <input type="password" formControlName="confirm_password" class="form-control" placeholder="Confirm your password">
          </div>

          <div class="form-group">
            <label>First Name: </label>
            <input type="text" formControlName="firstname" class="form-control" placeholder="Enter your first name">
              <div *ngIf="getError('firstname').invalid && (getError('firstname').dirty || getError('firstname').touched)"
                  class="alert alert-danger">

                <div *ngIf="getError('firstname').errors.required">
                  Your first name is required.
                </div>
              </div>
          </div>

          <div class="form-group">
            <label>Last Name: </label>
            <input type="text" formControlName="lastname" class="form-control" placeholder="Enter your last name">
              <div *ngIf="getError('lastname').invalid && (getError('lastname').dirty || getError('lastname').touched)"
                  class="alert alert-danger">

                <div *ngIf="getError('lastname').errors.required">
                  Your last name is required.
                </div>
              </div>
          </div>

          <div class="form-group">
            <label>Email: </label>
            <input type="email" formControlName="email" class="form-control" placeholder="Enter your email">
              <div *ngIf="getError('email').invalid && (getError('email').dirty || getError('email').touched)" class="alert alert-danger">
                <div *ngIf="getError('email').errors.required">
                  Your email is required.
                </div>
              </div>
          </div>

          <div class="form-group">
            <label>Mobile Number: </label>
            <input type="number" formControlName="phone" class="form-control" placeholder="Enter your mobile number">
            <div *ngIf="getError('phone').invalid && (getError('phone').dirty || getError('phone').touched)"
                class="alert alert-danger">

              <div *ngIf="getError('phone').errors.required">
                Your phone is required.
              </div>

              <div *ngIf="getError('phone').errors.pattern">
                Invalid phone number.
              </div>
            </div>
          </div>
      
          <div>
            <label>User Role: </label>
            <select class="form-control" formControlName="userRole">
              <option>Admin</option>
              <option>NHS Staff</option>
            </select> 

            <div *ngIf="getError('userRole').invalid && (getError('userRole').dirty || getError('userRole').touched)"
              class="alert alert-danger">

              <div *ngIf="getError('userRole').errors.required">
                Your role is required.
              </div>
            </div>
          </div>

          <div class="container text-center" style="padding-top: 2em">
            <button class="btn btn-primary">Enter</button>
          </div>
        </form>
    </div>
  </div>
</div>



<!-- <div *ngIf="registerForm.get('username').invalid && (registerForm.get('username').dirty || registerForm.get('username').touched)"
    class="alert alert-danger">

  <div *ngIf="registerForm.get('username').errors.required">
    Username is required.
  </div>

  <div *ngIf="registerForm.get('username').errors.minlength">
    Username must be at least 6 characters long.
  </div>

</div> -->

<!-- 
<div *ngIf="password.invalid && (password.dirty || password.touched)"
    class="alert alert-danger">

  <div *ngIf="password.errors.required">
    Password is required.
  </div>
  <div *ngIf="password.errors.minlength">
    Password must be at least 8 characters long.
  </div>
</div>

<div *ngIf="firstname.invalid && (firstname.dirty || firstname.touched)"
    class="alert alert-danger">

  <div *ngIf="firstname.errors.required">
    Your first name is required.
  </div>
</div>

<div *ngIf="lastname.invalid && (lastname.dirty || lastname.touched)"
    class="alert alert-danger">

  <div *ngIf="lastname.errors.required">
    Your last name is required.
  </div>
</div>

<div *ngIf="email.invalid && (email.dirty || email.touched)"
    class="alert alert-danger">

  <div *ngIf="email.errors.required">
    Your email is required.
  </div>

  <div *ngIf="email.errors.email">
    Invalid email address.
  </div>
</div>

<div *ngIf="phone.invalid && (phone.dirty || phone.touched)"
    class="alert alert-danger">

  <div *ngIf="phone.errors.required">
    Your phone is required.
  </div>

  <div *ngIf="phone.errors.pattern">
    Invalid phone number.
  </div>
</div>

<div *ngIf="userRole.invalid && (userRole.dirty || userRole.touched)"
    class="alert alert-danger">

  <div *ngIf="userRole.errors.required">
    Your role is required.
  </div>
</div> -->
